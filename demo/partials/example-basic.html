<div class="row align-center">
    <table>
        <tr>
            <th>
                <ng-checkbox collection-name="upcoming" ng-if="!multiCBCTrl.isMultiTableMode" select-all="true">ITEM</ng-checkbox>
            </th>
            <th>CATEGORY</th>
            <th>QUANTITY</th>
            <th>AMOUNT</th>
            <th></th>
        </tr>
        <tbody ng-repeat="products in (multiCBCTrl.isMultiTableMode ? multiCBCTrl.products2 : [multiCBCTrl.products2])" ng-init="checkboxGroupId = $index;">
        <tr ng-if="products.length >0 && multiCBCTrl.isMultiTableMode">
            <td>
                <ng-checkbox collection-name="upcoming" 
                    group-id="{{::products[0]['category']}}" 
                    data-id="{{'headCheckBox'+products[0]['category']}}" 
                    select-by-group="true">
                <h3 style="display:inline-block">Category {{products[0]['category']}}</h3>
                </ng-checkbox>
            </td>
            <td>{{::product.name}}</td>
            <td>Selected price: {{ multiCBCTrl.sumByGroups[products[0]['category']].sumByUnits }}</td>
        </tr>
        <tr ng-repeat="product in products | limitTo:totalDisplayed track by product.id" tabindex="0">
            <td>
                <ng-checkbox collection-name="upcoming"
                              group-id="{{::product.category}}"
                              data-id="{{::product.id}}"
                              ng-model="product.value"
                              sum="::product.price"
                              unit="{{::product.currency}}">{{::product.name}}
                </ng-checkbox>
            </td>
            <td>{{::product.category}}</td>
            <td>{{::product.quantity}}</td>
            <td>{{::product.price}} {{::product.currency}}</td>
            <td><button style="cursor:pointer" ng-click="multiCBCTrl.delete(product)">Delete</button></td>
        </tr>

        </tbody>
    </table>
</div>

<div class="row align-center"> 
    <div ng-if="multiCBCTrl.products2.length >0">
        <button class="hollow button" state=" {{ totalDisplayed >= products.length ? 'disabled' : null }} "  ng-click="loadMore(totalDisplayed)">Load More</button>
        <button state=" {{ !count ? 'disabled' : null }} " class="secondary hollow button" href="#">CONFIRM ({{multiCBCTrl.count2}}) {{ multiCBCTrl.sumByUnits2 }}</button>
    </div>
</div>